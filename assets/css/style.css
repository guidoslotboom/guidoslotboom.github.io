@layer reset, base, layout, components, utilities;

@layer base {

    @font-face {
        font-display: swap;
        font-family: "Bitter";
        src: url("../fonts/bitter-variable-font-wght.woff2") format("woff2-variations");
        font-weight: 100 900;
        font-stretch: 100% 100%;
        font-style: normal;
    }

    @font-face {
        font-display: swap;
        font-family: "Bitter";
        src: url("../fonts/bitter-italic-variable-font-wght.woff2") format("woff2-variations");
        font-weight: 100 900;
        font-stretch: 100% 100%;
        font-style: italic;
    }

    @font-face {
        font-display: swap;
        font-family: "Kumbh Sans";
        src: url("../fonts/kumbh-sans-variable-font-wght.woff2") format("woff2-variations");
        font-weight: 100 900;
        font-stretch: 100% 100%;
        font-style: normal;
    }

    @font-face {
        font-display: swap;
        font-family: "Roboto Mono";
        src: url("../fonts/roboto-mono-variable-font_wght.woff2") format("woff2-variations");
        font-weight: 100 900;
        font-stretch: 100% 100%;
        font-style: normal;
    }

    body {
        background-color: var(--color-scheme-base);
        color: var(--color-scheme-contrast);
        font-family: var(--font-primary, sans-serif);
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
    }

    h1, h2, h3, h4, h5 ,h6 {
        font-family: var(--font-secondary, serif);
        font-weight: 700;
    }

    h1 {
        font-size: var(--base-size-2xl);
    }

    h2 {
        font-size: var(--base-size-xl);
    }

    h3 {
        font-size: var(--base-size-lg);
    }

    h4 {
        font-size: var(--base-size-md);
    }

    h5 {
        font-size: var(--base-size-sm);
    }

    h6 {
        font-size: var(--base-size-xs);
    }

    a, 
    p {
        font-size: var(--font-size);
    }

    a:link {
        color: var(--secondary-20);
        display: inline-block;
        font-weight: 450;
        transition: color 100ms ease-in;
    }

    a:hover {
        color: var(--color-scheme-contrast);
        text-underline-offset: 0.25rem;
    }

    a:focus {
        outline-width: 0.125rem;
        outline-color: var(--secondary-30);
    }
}

@layer layout {
    
    main {
        max-width: 76ch;
    }

    main > * + * {
        margin-top: var(--base-size-xl);
    }

    main > p + p {
        margin-top: var(--base-size-lg);
    }

    main > p + a {
        margin-top: var(--base-size-sm);
    }
    
    main > h1 + * {
        margin-top: var(--base-size-sm);
    }
    
    main > h2 + * {
        margin-top: var(--base-size-xs);
    }
    
    main > h3 + * {
        margin-top: var(--base-size-2xs);
    }
    
    main > :is(h4, h5, h6) + * {
        margin-top: var(--base-size-3xs);
    }
}

@layer components {

    [class*="button"] {
        background-color: transparent;
        border-radius: 3rem;
        color: var(--primary-30);
        transition: all 150ms ease-in;
        position: relative;
    }

    .button:hover,
    [class*="button"]:not(:has(span)):hover {
        color: var(--primary-10);
    }

    :is(.button-primary, .button-secondary, .button-accent) {
        padding: var(--base-size-3xs) var(--base-size-md);
    }

    :is(.button-primary, .button-secondary, .button-accent) span {
        position: relative;
    }

    :is(.button-primary, .button-secondary, .button-accent):has(span) {
        border-width: 0.125rem;
        border-style: solid;
        text-decoration: none;
    }

    :is(.button-primary, .button-secondary, .button-accent):has(span):before {
        content: " ";
        background-color: var(--button-background);
        width: calc(100% - 0.25rem);
        height: calc(100% - 0.25rem);
        border-radius: 3rem;
        margin: 0.125rem;
        position: absolute;
        top: 0;
        left: 0;
        transform: scale(0.75);
        transition: all 150ms ease-in;
    }

    :is(.button-primary, .button-secondary, .button-accent):has(span):hover:before {
        transform: scale(1);
    }

    /*** Button Primary ***/

    .button-primary {
        border-color: var(--primary-60);
        color: var(--primary-30);
    }

    .button-primary:hover {
        --button-background: var(--primary-50);
        border-color: var(--primary-50);
        color: var(--color-scheme-contrast);
    }

    .button-primary:active {
        --button-background: var(--primary-60);
        border-color: var(--primary-50);
    }

    /*** Button Secondary ***/

    .button-secondary {
        border-color: var(--secondary-30);
        color: var(--secondary-10);
    }

    .button-secondary:hover {
        --button-background: var(--secondary-20);
        border-color: var(--secondary-20);
        color: var(--color-scheme-base);
    }

    .button-secondary:active {
        --button-background: var(--secondary-30);
        border-color: var(--secondary-20);
    }

    /*** Button Accent ***/

    .button-accent {
        border-color: var(--accent-30);
        color: var(--accent-10);
    }

    .button-accent:hover {
        --button-background: var(--accent-20);
        border-color: var(--accent-20);
        color: var(--color-scheme-base);
    }

    .button-accent:active {
        --button-background: var(--accent-30);
        border-color: var(--accent-20);
    }

    /*** Button Specific Styles ***/

    .button-stealth {
        border-color: transparent;
        text-decoration: underline;
    }

    .button-stealth:hover {
        --button-background: var(--primary-50);
        border-color: transparent;
        color: var(--color-scheme-contrast);
        text-decoration: none;
    }

    .button-stealth:active {
        --button-background: var(--primary-60);
    }

    /*** Button Sizes ***/

    .button-sm {
        padding: var(--base-size-4xs) var(--base-size-2xs);
        font-size: var(--font-size-sm);
    }

    .button-md {
        padding: var(--base-size-3xs) var(--base-size-md);
        font-size: var(--font-size);
    }

    .button-lg {
        padding: var(--base-size-2xs) var(--base-size-xl);
        font-size: var(--font-size-lg);
    }

}

@layer utilities {

    /*** Header Sizes ***/

    .heading-2xs {
        font-size: var(--heading-size-2xs);
    }

    .heading-xs {
        font-size: var(--heading-size-xs);
    }

    .heading-sm {
        font-size: var(--heading-size-sm);
    }

    .heading-md {
        font-size: var(--heading-size);
    }

    .heading-lg {
        font-size: var(--heading-size-lg);
    }

    .heading-xl {
        font-size: var(--heading-size-xl);
    }

    .heading-2xl {
        font-size: var(--heading-size-2xl);
    }

    /*** Text Sizes ***/

    .text-xs {
        font-size: var(--font-size-xs);
    }

    .text-sm {
        font-size: var(--font-size-sm);
    }

    .text-md {
        font-size: var(--font-size);
    }

    .text-lg {
        font-size: var(--font-size-lg);
    }

    .text-xl {
        font-size: var(--font-size-xl);
    }
}